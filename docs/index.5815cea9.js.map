{"mappings":"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","sources":["src/js/_scroll_to_top.js","src/js/_section_array.js","node_modules/@swc/helpers/src/_array_like_to_array.mjs","node_modules/@swc/helpers/src/_array_without_holes.mjs","node_modules/@swc/helpers/src/_iterable_to_array.mjs","node_modules/@swc/helpers/src/_non_iterable_spread.mjs","node_modules/@swc/helpers/src/_unsupported_iterable_to_array.mjs","node_modules/@swc/helpers/src/_to_consumable_array.mjs","src/js/_helpers.js","src/js/_nav_active_link.js","node_modules/@swc/helpers/src/_define_property.mjs","node_modules/@swc/helpers/src/_object_spread.mjs","src/js/_observer.js","src/js/_build_articles.js","node_modules/@swc/helpers/src/_class_call_check.mjs","node_modules/@swc/helpers/src/_class_extract_field_descriptor.mjs","node_modules/@swc/helpers/src/_class_apply_descriptor_get.mjs","node_modules/@swc/helpers/src/_class_private_field_get.mjs","node_modules/@swc/helpers/src/_check_private_redeclaration.mjs","node_modules/@swc/helpers/src/_class_private_field_init.mjs","node_modules/@swc/helpers/src/_class_apply_descriptor_set.mjs","node_modules/@swc/helpers/src/_class_private_field_set.mjs","node_modules/@swc/helpers/src/_class_private_method_get.mjs","node_modules/@swc/helpers/src/_class_private_method_init.mjs","node_modules/@swc/helpers/src/_create_class.mjs","node_modules/@swc/helpers/src/_class_check_private_static_access.mjs","node_modules/@swc/helpers/src/_class_static_private_method_get.mjs","node_modules/@bnjmnrsh/satchel/src/Satchel.js","src/js/_fetch_articles.js","src/js/_simple_router.js","node_modules/@bnjmnrsh/satchel/src/bindle.js","src/js/_build_nav.js","node_modules/@bnjmnrsh/toast/src/Toast.js","src/js/_network.js","src/js/app.js"],"sourcesContent":["/**\n * Scroll to the top of an element and add or remove classes for styleing.\n * The scrolling speed & behavior is managed by css.\n *\n * @param string targetEl class name of the element to be scrolled to the top.\n */\nexport const scrollToTop = function (targetEl, triggerPoint = 125) {\n  const scrollingEl = document.querySelector(targetEl)\n  const sttEl = document.querySelector('#stt')\n\n  const elTrigger = function (el) {\n    // window does not have scrollTop\n    const scrollHeight = el.scrollY || el.scrollTop\n    if (scrollHeight > triggerPoint) {\n      document.body.classList.add('scrolled')\n      sttEl.classList.add('-is-revealed')\n    } else {\n      document.body.classList.remove('scrolled')\n      sttEl.classList.remove('-is-revealed')\n    }\n  }\n\n  window.addEventListener('scroll', (e) => elTrigger(window))\n  scrollingEl.addEventListener('scroll', (e) => elTrigger(scrollingEl))\n\n  sttEl.addEventListener('click', (e) => {\n    document.scrollingElement.scrollTo(0, 0)\n    scrollingEl.scrollTo(0, 0)\n  })\n}\n","/*\n      The sections listed, in the 'section' param in the API, may not always resolve to\n        a section via https://www.nytimes.com/section/{section}.\n      The list that appears on the top-stories doumentation, is also not complete.\n      As there isn't an endpoint that I am aware of for getting an official list of sections,\n      I'm rolling own.\n\n      https://developer.nytimes.com/docs/top-stories-product/1/overview\n  */\nexport const aSections = [\n  'home',\n  'arts',\n  'automobiles',\n  'books',\n  'business',\n  'climate',\n  'dining',\n  'fashion',\n  'food',\n  'health',\n  'insider',\n  'magazine',\n  'movies',\n  'nyregion',\n  'obituaries',\n  'opinion',\n  'politics',\n  'realestate',\n  'science',\n  'sports',\n  'style',\n  'sundayreview',\n  'technology',\n  'theater',\n  't-magazine',\n  'travel',\n  'upshot',\n  'us',\n  'world'\n]\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n","import _arrayLikeToArray from './_array_like_to_array.mjs';\n\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","import _arrayLikeToArray from './_array_like_to_array.mjs';\n\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\n","import arrayWithoutHoles from './_array_without_holes.mjs';\nimport iterableToArray from './_iterable_to_array.mjs';\nimport nonIterableSpread from './_non_iterable_spread.mjs';\nimport unsupportedIterableToArray from './_unsupported_iterable_to_array.mjs';\n\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n","/**\n * Sanitize and encode all HTML in a user-submitted string\n * https://gomakethings.com/preventing-cross-site-scripting-attacks-when-using-innerhtml-in-vanilla-javascript/\n * @param  {String} str  The user-submitted data as string\n * @return {String} str  The sanitized string\n */\nconst snitiz = function (str) {\n  const temp = document.createElement('div')\n  temp.textContent = str\n  return temp.innerHTML\n}\n\n/**\n * Debounce function calls\n *\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing.\n *\n * https://davidwalsh.name/javascript-debounce-function\n *\n * @param {function} func callback function\n * @param {number} wait milliseconds to wait\n * @param {boolean} immediate run immediate\n */\nconst debounce = function (func, wait, immediate) {\n  let timeout\n  return function () {\n    const context = this\n    const args = arguments\n    const later = () => {\n      timeout = null\n      if (!immediate) func.apply(context, args)\n    }\n    const callNow = immediate && !timeout\n    clearTimeout(timeout)\n    timeout = setTimeout(later, wait)\n    if (callNow) func.apply(context, args)\n  }\n}\n\n/**\n * Throttle function calls\n *\n * @param {function} func callback function\n * @param {number} wait milliseconds to wait\n * @returns\n */\nfunction throttle(func, wait = 1000) {\n  let shouldWait = false\n  let waitingArgs\n  const timeoutFunc = () => {\n    if (waitingArgs == null) {\n      shouldWait = false\n    } else {\n      func(...waitingArgs)\n      waitingArgs = null\n      setTimeout(timeoutFunc, wait)\n    }\n  }\n\n  return (...args) => {\n    if (shouldWait) {\n      waitingArgs = args\n      return\n    }\n\n    func(...args)\n    shouldWait = true\n    setTimeout(timeoutFunc, wait)\n  }\n}\n\nexport { snitiz, debounce, throttle }\n","/**\n * Set the current page link to active\n *\n */\nexport const navActiveLink = function () {\n  const currentPg = window.location.hash.replace('#', '')\n  const nav = document.querySelector('nav.noise')\n\n  // iterate over each link\n  const pills = nav.querySelectorAll('.pill')\n  console.log('navActiveLink')\n  pills.forEach(function (pill) {\n    if (pill.classList.contains(currentPg)) {\n      pill.classList.add('active')\n    } else {\n      pill.classList.remove('active')\n    }\n  })\n}\n\n/**\n * Listener callback for nav clicks\n *\n * @param {*} e\n */\nexport const navLink = function (e) {\n  if ('section' in e.target.dataset && e.target.dataset.section !== undefined) {\n    navActiveLink()\n  }\n}\n\naddEventListener('click', navLink)\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","import defineProperty from './_define_property.mjs';\n\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","/**\n * A simple Intersection Observer handeler\n *\n * @param object options object\n * @param string id of container element, defaults to the body element\n * @param string class assigned to target elements, defaults to '.observable'\n * @returns\n */\nexport const observer = function (\n  options = {},\n  targets = '.observable',\n  targetObservedClass = 'loaded'\n) {\n  const defaults = {\n    root: document.querySelector('body'),\n    rootMargin: '0px',\n    threshold: 1.0\n  }\n  options = { ...defaults, ...options }\n\n  const targetEls = document.querySelectorAll(targets)\n\n  if (!targetEls.length) {\n    console.warn('No observerable elements named', targets)\n    return\n  }\n\n  const handelIntersection = function (targetEls) {\n    targetEls.forEach((el) => {\n      if (el.isIntersecting) {\n        el.target.classList.add(targetObservedClass)\n      }\n    })\n  }\n  const observer = new IntersectionObserver(handelIntersection, options)\n  targetEls.forEach((el) => observer.observe(el))\n}\n","import { snitiz } from './_helpers'\nimport { navActiveLink } from './_nav_active_link'\nimport { aSections } from './_section_array'\nimport { observer } from './_observer'\n\n/**\n * Build the articles from API data, triggered by _fetchArticles.js\n *\n * @param object oData, the incoming API data.\n */\nexport const buildArticles = function (oData) {\n  const articleList = document.querySelector('#articles')\n  const loader = document.querySelector('#loader')\n  loader.style.opacity = 1\n  navActiveLink()\n\n  // prettier-ignore\n  articleList.innerHTML =\n            oData.top_stories.results\n                .map(function (article) {\n                    const vaidSection = aSections.indexOf(snitiz(article.section)) >= 0\n                    if (!vaidSection) {\n                        if(article.section === \"admin\") return '' // remove empty 'admin' sections\n                    }\n\n                    if (!article.abstract) return '' // remove orpahaned articles\n\n                    let assembly = `<li>\n                                    <article class=\"news-item ${snitiz(article.section)}\">\n                                        <header>`\n                    // Account for multimedia not coming in as expeced.\n                    if (\n                        'multimedia' in article &&\n                        article.multimedia !== null &&\n                        article.multimedia.length >= 3\n                    ) {\n                        assembly += `<a href=\"${snitiz(\n                          article?.url\n                        )}\" title=\"${snitiz(article.title)}\">\n                                                <img class=\"loading-bg\"\n                                                scrset=\"${snitiz(\n                                                  article.multimedia[0]?.url\n                                                )} ${snitiz(\n                          article?.multimedia[0]?.width\n                        )}w,\n                                                    ${snitiz(\n                                                      article.multimedia[1]?.url\n                                                    )} ${snitiz(\n                          article?.multimedia[1]?.width\n                        )}w,\n                                                    ${snitiz(\n                                                      article.multimedia[2]?.url\n                                                    )} ${snitiz(\n                          article?.multimedia[2]?.width\n                        )}w,\n                                                    ${snitiz(\n                                                      article.multimedia[3]?.url\n                                                    )} ${snitiz(\n                          article?.multimedia[3]?.width\n                        )}w\"\n                                                src=\"${snitiz(\n                                                  article.multimedia[1]?.url\n                                                )}\"\n                                                 height=\"${snitiz(\n                                                   article.multimedia[1]?.height\n                                                 )}\"\n                                                 width=\"${snitiz(\n                                                   article?.multimedia[1]?.width\n                                                 )}\"\n                                                alt=\"${snitiz(\n                                                  article?.multimedia[1]\n                                                    ?.copyright\n                                                )}\" loading=\"lazy\" role=\"presentation\"/>\n                                            </a>`\n                    }\n                    assembly += `</header>\n                                        <section class=\"news-content\">\n                                            <header>\n                                                <h3 class=\"hyphens\"><a href=\"${snitiz(article.url)\n                        }\">${article.title}</a></h3>\n                                                  <p class=\"details\">`\n                    if (vaidSection) {\n                        assembly += `<a class=\"pill ${snitiz(article.section)}\" href=\"https://www.nytimes.com/section/${snitiz(article.section)}\">`\n                    } else {\n                        if (article.section) {\n                            assembly += `<span class=\"pill ${snitiz(article.section)}\">`\n                        }\n                    }\n                    assembly += `${snitiz(article.section)} ${vaidSection ? '</a>' : '</span>'}\n                                                    ${article?.byline ? '<span class=\"byline\">' : ''}\n                                                    ${article?.byline ? snitiz(article?.byline) : ''}\n                                                    ${article?.byline ? '</span>' : ''}\n                                                </p>\n                                            </header>\n                                            <div class=\"abstract\">`\n                    if (article.abstract) {\n                        assembly += `<p class=\"hyphens\">${snitiz(article?.abstract)}\n                                        <a href=\"${snitiz(article.url)}\" title=\"${snitiz( article.title)}\" class=\"read-more\">[...more]</a>\n                                      </p>`\n                    }\n                    assembly += `</div>\n                                        </section>\n                                    </article>\n                                </li>`\n\n                    return assembly\n                })\n            .join('')\n  loader.style.opacity = 0\n\n  observer(\n    { root: document.querySelector('#newsfeed-wrap'), threshold: 0.25 },\n    '.news-item'\n  )\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export default function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}\n","export default function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorGet from './_class_apply_descriptor_get.mjs';\n\nexport default function _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}\n","export default function _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateFieldInit(obj, privateMap, value) {\n  _checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}\n","export default function _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      // This should only throw in strict mode, but class bodies are\n      // always strict and private fields can only be used inside\n      // class bodies.\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n    descriptor.value = value;\n  }\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorSet from './_class_apply_descriptor_set.mjs';\n\nexport default function _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}\n","export default function _classPrivateMethodGet(receiver, privateSet, fn) {\n  if (!privateSet.has(receiver)) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  return fn;\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateMethodInit(obj, privateSet) {\n  _checkPrivateRedeclaration(obj, privateSet);\n  privateSet.add(obj);\n}\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n","export default function _classCheckPrivateStaticAccess(receiver, classConstructor) { \n  if (receiver !== classConstructor) {\n    throw new TypeError(\"Private static access of wrong provenance\");\n  } \n}\n","import classCheckPrivateStaticAccess from \"./_class_check_private_static_access.mjs\"\n\nexport default function _classStaticPrivateMethodGet(receiver, classConstructor, method) {\n  classCheckPrivateStaticAccess(receiver, classConstructor); return method;\n}\n","/**\n * A utility for managaing the freshness of namespaced sessionStorage and localStorage entries.\n */\nclass Satchel {\n  static _stcl\n  #pocketKey\n  #store\n  #settings\n\n  /**\n   * @class Satchel\n   * @classdec Create new Satchel instance\n   * @param {string|null} key Storage key\n   * @param {object} cargo The cargo payload to be saved to Storage\n   * @property {object|string} cargo.data The data to be saved, may be string or object\n   * @property {number|null} cargo.expiry The expiry time of the cargo ,may be a number or null\n   * @param {boolean} [local=false] Specify sessionStorage (default) or localStorage\n   * @param {string} [pocket='pocket'] Namespace for Storage keys, default is 'pocket'\n   */\n  constructor(key = null, cargo = {}, local = false, pocket = 'pocket') {\n    this.#store = local ? window.localStorage : window.sessionStorage\n    if (!key) {\n      throw new Error('Satchel: a \"key\" is required.')\n    }\n    if (typeof key !== 'string') {\n      throw new Error('Satchel: \"key\" must be a string.')\n    }\n    if (!this.#isObject(cargo)) {\n      throw new Error('Satchel: {cargo} must be an object.')\n    }\n    if (typeof local !== 'boolean') {\n      throw new Error('Satchel: \"local\" must be a boolean.')\n    }\n    if (typeof pocket !== 'string') {\n      throw new Error('Satchel: \"pocket\" must be a string.')\n    }\n\n    this.#pocketKey = `${Satchel.stcl}.${pocket}.${key}`\n    this.#settings = { data: undefined, expiry: null }\n\n    cargo = { ...this.#settings, ...cargo }\n\n    // Set the cargo to Storage\n    this.set(cargo)\n  }\n\n  /**\n   * Setter for Satchel.stcl must be a string.\n   *\n   * @static\n   * @memberof Satchel\n   */\n  static set stcl(prefix) {\n    if (typeof prefix !== 'string') {\n      throw new Error('Satchel.stcl must be a string.')\n    }\n    this._stcl = prefix\n  }\n\n  /**\n   * Getter for the Satchel.stcl property.\n   * Returns the prefix for current Satchel instance, defaulting to 'stcl'.\n   *\n   * @static\n   * @memberof Satchel\n   */\n  static get stcl() {\n    return this._stcl ? this._stcl : 'stcl'\n  }\n\n  /**\n   * Returns an object of age and freshness related data\n   *\n   * @typedef {object} Age object\n   * @property {number} age in milliseconds\n   * @property {number} creation Date.now() (ms)src/Satchel.js\n   * @property {boolean} fresh if Store key is fresh\n   * @return {Age|null} An age object representing the age of the current Store key.\n   */\n  age() {\n    const store = JSON.parse(this.#store.getItem(this.#pocketKey))\n    if (!store) return null\n    return {\n      age: Date.now() - store._creation,\n      creation: store._creation,\n      expiry: store.expiry ? store.expiry : null,\n      fresh: this.isFresh()\n    }\n  }\n\n  /**\n   * Remove the current namespaced key from the store.\n   *\n   * @returns { boolian:true | null } Returns true on success, or null if no record found.\n   */\n  bin() {\n    const item = this.#store.getItem(this.#pocketKey)\n    if (!item) return null\n    this.#store.removeItem(this.#pocketKey)\n    Satchel.#emit({\n      key: this.#pocketKey,\n      oldValue: item,\n      storageArea: Satchel.#storageAreaString(this.#store),\n      action: 'bin'\n    })\n    return true\n  }\n\n  /**\n   * Get the data for the current Storage key.\n   *\n   * @param {boolean} getStale flag to ignore stale entries from a \"pocket\"\n   * @returns {object|boolan:false} the data for the stored key or false.\n   */\n  get(getStale = false) {\n    const item = this.#store.getItem(this.#pocketKey)\n    if (!item) return null\n    if ((this.isFresh() && !getStale) || getStale) {\n      return JSON.parse(item)\n    }\n    return false\n  }\n\n  /**\n   * Sets the cargo object for a given key and namespace.\n   *\n   * @param {object} settings object\n   * @property {object|string} data the Storage object to set\n   * @property {number|null} expiry the expiery date in (ms)\n   *\n   * @return {Satchel} Satchel\n   */\n  set({ data, expiry }) {\n    // check if a key exists in store already\n    const exsisting = JSON.parse(this.#store.getItem(this.#pocketKey))\n    // allow data and expiry to be set independently\n    data = exsisting?.data && !data ? exsisting.data : data\n    expiry = exsisting?.expiry && !expiry ? exsisting.expiry : expiry\n\n    if (\n      data &&\n      typeof data !== 'string' &&\n      typeof data !== 'number' &&\n      !this.#isObject(data)\n    ) {\n      throw new Error(\n        'Satchel.set({data}): must be either null or a number, string or object.'\n      )\n    }\n\n    if (typeof expiry !== 'number' && expiry !== null) {\n      throw new Error(\n        'Satchel.set({expiry}): \"expiry\" must be null or a number.'\n      )\n    }\n    if (data && this.#isObject(data)) {\n      try {\n        JSON.parse(JSON.stringify(data))\n      } catch (e) {\n        throw new Error(`Satchel.set({data}): ${e}`)\n      }\n    }\n    const storedEntry = this.get(true)\n    const temp = {}\n    temp.data = data || null\n    temp.expiry = expiry || null\n\n    // dont overwrite existing creation time\n    temp._creation = storedEntry?._creation || Date.now()\n    // Set storage values\n    this.#store.setItem(this.#pocketKey, JSON.stringify(temp))\n\n    Satchel.#emit({\n      key: this.#pocketKey,\n      newValue: JSON.stringify(temp),\n      oldValue: storedEntry ? JSON.stringify(storedEntry) : null,\n      storageArea: Satchel.#storageAreaString(this.#store),\n      action: 'set'\n    })\n    return this\n  }\n\n  /**\n   * Check if current item is fresh.\n   *\n   * @returns {boolean|null} true if the item has not expired, null if the record doesn't exist.\n   */\n  isFresh() {\n    const store = JSON.parse(this.#store.getItem(this.#pocketKey))\n    if (!store) return null\n    return !store?.expiry ? true : store.expiry - Date.now() > 0\n  }\n\n  /**\n   * Returns the current namespaced Store key (pocket.key), the key is prefixed with 'stcl'.\n   * Note that this is the internal reference to the key, not proof the key has been set to Storage.\n   *\n   * @returns {string} the key to the current pocket-key\n   */\n  getKey() {\n    return this.#pocketKey\n  }\n\n  /**\n   * Emulates the StorageEvent API, which may be preferable for some use cases.\n   * https://developer.mozilla.org/en-US/docs/Web/API/StorageEvent\n   *\n   * Emit custom events for Satchel\n   * @typedef {CustomEvent}\n   * @param {object} detail Event details\n   * @property {string|null} detail.key name of the Storage key being called\n   * @property {string|null} detail.pocket name of the Storage pocket being cleaned\n   * @property {string|null} detail.newValue the updated value of the Storage key\n   * @property {string|null} detail.oldValue the old value of the Storage key\n   * @property {number|null} detail.keysBefore then number of keys in the pocket before emptyPocket or tidyPocket\n   * @property {number|null} detail.keysAfter then number of keys in the pocket after emptyPocket or tidyPocket\n   * @property {string} detail.storageArea, the type of Storage object\n   * @property {string} detail.url, the url of the document whoes key changed\n   * @property {string} detail.action the name of the Satchel function emiting the event\n   * @property {boolean} [pocketClean = false] Optional flag to indiacte a emptyPocket or tidyPocket opperation.\n   * @returns {CustomEvent} CustomEvent\n   */\n  static #emit(detail = {}) {\n    const required = {\n      key: null,\n      newValue: null,\n      oldValue: null,\n      storageArea: null,\n      url: window.location.href,\n      action: null\n    }\n    detail = { ...required, ...detail }\n    const event = new CustomEvent('Satchel', {\n      bubbles: true,\n      cancelable: true,\n      detail\n    })\n    return document.dispatchEvent(event)\n  }\n\n  /**\n   * Get the Storage type as a string: 'localStorage' or 'sessionStorage'.\n   *\n   * @param {object} Storage object\n   * @returns {string} the Storage type as a string 'localStorage' or 'SessionStorage'\n   */\n  static #storageAreaString(store) {\n    return store === window.localStorage ? 'LocalStorage' : 'SessionStorage'\n  }\n\n  /**\n   * Test if a value is an interable object.\n   *\n   * @param {*} doesit the value to be checked\n   * @returns\n   */\n  #isObject(doesit) {\n    return doesit && typeof doesit === 'object' && doesit.constructor === Object\n  }\n\n  /**\n   * Returns an instance of Satchel associated with the given key, pocket,store, or false if none is found.\n   *\n   * @param {string} key key for the stored item\n   * @param {string} [pocket='pocket'] namespace prefix, default 'pocket'\n   * @param {string} [local='false'] specify sessionStorage (default) or localStorage\n   * @returns {Satchel|false} new Satchel instance | false\n   */\n  static getSatchel(key, local = false, pocket = 'pocket') {\n    if (!key) {\n      throw new Error('Satchel.getSatchel(key): a \"key\" is required.')\n    }\n    if (typeof key !== 'string') {\n      throw new Error('Satchel.getSatchel(key): \"key\" must be a string.')\n    }\n    if (typeof local !== 'boolean') {\n      throw new Error(\n        'Satchel.getSatchel(key, local): \"local\" must be a boolean.'\n      )\n    }\n    if (typeof pocket !== 'string') {\n      throw new Error(\n        'Satchel.getSatchel(key, local, pocket): \"pocket\" must be an string.'\n      )\n    }\n\n    const pocketKey = `${Satchel.stcl}.${pocket}.${key}`\n    const store = local ? window.localStorage : window.sessionStorage\n    const item = JSON.parse(store.getItem(pocketKey))\n    if (!item || item.length === 0) return null\n\n    return new Satchel(key, item, local, pocket)\n  }\n\n  /**\n   * A static method for setting a Satchel key, without calling `new Satchel`.\n   * When you want to use Satchel only for it's side effects.\n   *\n   * @param {string|null} key Storage key\n   * @param {object} cargo The cargo payload to be saved to Storage\n   * @property {object|string} cargo.data The data to be saved, may be string or object\n   * @property {number|null} cargo.expiry The expiry time of the cargo ,may be a number or null\n   * @param {boolean} [local=false] Specify sessionStorage (default) or localStorage\n   * @param {string} [pocket='pocket'] Namespace for Storage keys, default is 'pocket'\n   * @returns {undefined}\n   */\n  static setKey(key = null, cargo = {}, local = false, pocket = 'pocket') {\n    /* eslint-disable no-new */\n    new Satchel(key, cargo, local, pocket)\n  }\n}\n\nexport { Satchel }\n","import { buildArticles } from './_build_articles'\nimport { Satchel } from '@bnjmnrsh/satchel'\nconst API = 'https://signal-v-noise-worker.bnjmnrsh.workers.dev'\n\n/**\n * Create markup string for error reporting messages\n *\n * @param object err object\n * @returns string\n */\nconst generateErrorsMarkup = function (err) {\n  console.warn('err', err)\n  return `\n<div id=\"ohnos\">\n  <h3><span aria-hidden=\"true\">⥀.⥀ <br/></span>Oh Nooos!</h3>\n  <p class=\"sr-only\">There has been a crittical error:</p>\n    <div>\n<pre>\n${err.stack || ''}\n${err.type || ''}\n${`${err.statusText || ''} ${err.status || ''}`}\n${\n  err.top_stories?.status === 429\n    ? `${err.top_stories.status} too many requests`\n    : err.top_stories?.status\n}\n${err.top_stories?.error || ''}\n${\n  err.top_stories?.error_message\n    ? ` Route not found: ${err.top_stories.error_message\n        .split('/')\n        .pop()\n        .replace('.json', '')}`\n    : ''\n}\n</pre>\n    </div>\n</div>`\n}\n\nfunction getStoredArticles(section, forced = false) {\n  const storedArticles = Satchel.getSatchel(section, true, 'svn-store')\n  if (storedArticles?.isFresh() || !navigator.onLine || forced) {\n    if (storedArticles?.get(!navigator.onLine)?.data) {\n      console.log('loading from store ...')\n      buildArticles(storedArticles.get(!navigator.onLine).data)\n      document.body.querySelector('#newsfeed-wrap').scrollTo(0, 0)\n      document.body.classList.remove('loading')\n      return true\n    }\n    return false\n  }\n}\n\n/**\n * Gets the articles, defauts to 'home' section\n *\n * @param {string} [section='home']\n */\nexport const fetchArticles = function (sSection = 'home') {\n  const loader = document.querySelector('#loader')\n  loader.style.opacity = 1\n  const storedArticles = getStoredArticles(sSection)\n  if (!storedArticles && navigator.onLine) {\n    document.body.classList.add('loading')\n    const fetchedArticles = new Promise(function (resolve, reject) {\n      let data\n      console.log('fetching fresh articles...')\n      fetch(API + '?section=' + sSection)\n        .then(function (resp) {\n          document.body.classList.remove('loading')\n          data = resp.json()\n          if (resp.ok && resp.status === 200) {\n            return data\n          } else {\n            throw resp\n          }\n        })\n        .then(function (data) {\n          if (data.top_stories.status !== 'OK') {\n            throw data\n          }\n          buildArticles(data)\n          const expiry = Date.now() + 120000 //  120000 = 2min\n          Satchel.setKey(sSection, { data, expiry }, true, 'svn-store')\n          document.body.querySelector('#newsfeed-wrap').scrollTo(0, 0)\n          return data\n        })\n        .catch(function (errs) {\n          loader.style.opacity = 0\n          const articlesEl = document.querySelector('#articles')\n          console.error(errs)\n          if (articlesEl) {\n            console.log(errs?.top_stories?.status)\n            if (errs?.top_stories?.status === 429) {\n              const tryStore = getStoredArticles(sSection)\n              console.warn('429 too many requests, trying store')\n              if (!tryStore) {\n                // throw the error\n                articlesEl.innerHTML = generateErrorsMarkup(errs)\n              }\n            }\n          }\n        })\n    })\n    return fetchedArticles\n  }\n}\n","import { fetchArticles } from './_fetch_articles'\n\n/**\n * A simple hash based router without caching\n *\n */\nexport const simpleRouter = function () {\n  let urlHash = window.location.hash.replace('#', '')\n  let loadedSection = document\n    .querySelector('#app')\n    .getAttribute('data-section')\n\n  urlHash = urlHash || 'home' // If there is no hash, were're home.\n\n  if (!loadedSection && !!urlHash) {\n    // first load, but to a section not the homepage\n    loadedSection = urlHash\n    if (urlHash) {\n      document.querySelector('#app').setAttribute('data-section', urlHash)\n    }\n  }\n  // scrollToTop triggers a hashchange, below prevents mutiple fireing of fetchArticles when this happens.\n  if (urlHash === 'null' || urlHash === 'head') {\n    window.removeEventListener('hashchange', simpleRouter)\n    window.location.hash = loadedSection\n    // delay re-enableing the listener to prevent hashchange firing mutiple times.\n    // Could use a debounce but this works fine.\n    setTimeout(() => window.addEventListener('hashchange', simpleRouter), 1)\n  } else {\n    urlHash && fetchArticles(urlHash)\n  }\n}\nwindow.addEventListener('hashchange', simpleRouter)\n","/**\n * Tools for managing Satchel pockets.\n */\n\n/**\n * Emit custom event for Satchel pocket opperations.\n *\n * @param {object} detail Event details\n * @property {string|null} detail.pocket name of the Storage pocket being cleaned\n * @property {number|null} detail.keysBefore then number of keys in the pocket before emptyPocket or tidyPocket\n * @property {number|null} detail.keysAfter then number of keys in the pocket after emptyPocket or tidyPocket\n * @property {string} detail.storageArea, the type of Storage object\n * @property {string} detail.url, the url of the document whoes key changed\n * @property {string} detail.action the name of the Satchel function emiting the event\n * @returns {CustomEvent} CustomEvent\n */\nfunction emitPocket(detail = {}) {\n  const required = {\n    action: null,\n    pocket: null,\n    remainingPocketKeys: null,\n    startingPocketKeys: null,\n    remainingKeysInStore: null,\n    storageArea: null,\n    url: window.location.href\n  }\n  detail = { ...required, ...detail }\n  const event = new CustomEvent('Satchel', {\n    bubbles: true,\n    cancelable: true,\n    detail\n  })\n  return document.dispatchEvent(event)\n}\n\n/**\n * Get the Storage type as a string 'localStorage' or 'sessionStorage'.\n *\n * @param {object} Storage object\n * @returns {string} the Storage type as a string 'localStorage' or 'SessionStorage'\n */\nfunction storageAreaString(store) {\n  return store === window.localStorage ? 'LocalStorage' : 'SessionStorage'\n}\n\n/**\n * Returns array of keys for a 'Pocket' namespace.\n *\n * @param {string} pocket namespace prefix, default 'pocket'\n * @param {boolean} local specify sessionStorage (default) or localStorage\n * @returns {array} array of Storage keys for the current pocket.\n */\nfunction getAllPocketKeys(local = false, pocket = 'pocket', stcl = 'stcl') {\n  const store = local ? window.localStorage : window.sessionStorage\n\n  const allKeys = Object.keys(store)\n    .map((key) => {\n      return key.startsWith(stcl + '.' + pocket) ? key : ''\n    })\n    .filter((e) => {\n      return e\n    })\n\n  return Array.from(allKeys)\n}\n\n/**\n *  Removes all expired items from a given 'pocket' namespace.\n *\n * @param {string} pocket namespace prefix, default 'pocket'\n * @param {boolean} local specify sessionStorage (default) or localStorage\n * @returns The number of items remaing in store that have yet to expire.\n */\nfunction tidyPocket(local = false, pocket = 'pocket', stcl = 'stcl') {\n  const store = local ? window.localStorage : window.sessionStorage\n  const pocketKeys = getAllPocketKeys(local, pocket, stcl)\n  if (!pocketKeys.length) return null\n\n  Object.keys(pocketKeys).forEach((key) => {\n    const expiry = JSON.parse(store.getItem(pocketKeys[key])).expiry\n    if (!expiry || expiry - Date.now() > 0) return null\n    store.removeItem(pocketKeys[key])\n  })\n\n  emitPocket(\n    {\n      action: 'tidyPocket',\n      pocket,\n      remainingPocketKeys: getAllPocketKeys(local, pocket, stcl).length,\n      remainingKeysInStore: store.length,\n      startingPocketKeys: pocketKeys.length,\n      storageArea: storageAreaString(store)\n    },\n    true\n  )\n  return [getAllPocketKeys(local, pocket).length, store.length]\n}\n\n/**\n * Clears all items regardless of freshness from a given 'pocket' namespace.\n *\n * @param {boolean} local specify sessionStorage (default) or localStorage\n * @param {string} pocket namespace prefix, default 'pocket'\n * @returns {array|null} The number of pocket-keys remaing in store, which if sucessful should be [0, store.length].\n */\nfunction emptyPocket(local = false, pocket = 'pocket', stcl = 'stcl') {\n  const store = local ? window.localStorage : window.sessionStorage\n  const pocketKeys = getAllPocketKeys(local, pocket, stcl)\n  if (!pocketKeys.length) return null\n\n  Object.keys(pocketKeys).forEach((key) => {\n    store.removeItem(pocketKeys[key])\n  })\n\n  const remainingPocketKeys = getAllPocketKeys(local, pocket, stcl)\n\n  emitPocket(\n    {\n      action: 'emptyPocket',\n      pocket,\n      remainingPocketKeys: remainingPocketKeys.length,\n      remainingKeysInStore: store.length,\n      startingPocketKeys: pocketKeys.length,\n      storageArea: storageAreaString(store)\n    },\n    true\n  )\n  return [remainingPocketKeys.length, store.length]\n}\n\nexport { emptyPocket, tidyPocket, getAllPocketKeys }\n","import { getAllPocketKeys } from '@bnjmnrsh/satchel/dist/bindle'\n/**\n * Build the nav pills using our section array.\n *\n * @param {array} [data=aSections]\n */\nexport const buildNav = function (rootEl, navEls) {\n  const store = getAllPocketKeys(true, 'svn-store')\n  const navItems = rootEl.querySelector('nav')\n  navItems.innerHTML =\n    '<ul>' +\n    navEls\n      .map(function (navEl) {\n        const isStored = store.includes('stcl.svn-store.' + navEl)\n        return `<li><a href=\"#${navEl}\" class=\"pill ${navEl}\" data-section=\"${navEl}\" data-stored=\"${isStored}\">${navEl}</a></li>`\n      })\n      .join('') +\n    '</ul>'\n}\n\n// Add event listener for Satchel and refresh data-storage attrs on links when a store is added for that section.\n// Goal here is to be able to highlight the ones that a user can navigate to when they are off line.\n\nwindow.addEventListener('Satchel', refreshLinkData)\n\n/**\n * Responds to Satchel events and updates any associated nav links when a store is updated.\n * @param {object} e\n * @returns undefined\n */\nfunction refreshLinkData(e) {\n  if (e.type !== 'Satchel') return\n  const store = e.detail.key.split('.')[1]\n  if (store !== 'svn-store') return\n  const section = e.detail.key.split('.')[2]\n  const pills = document.querySelectorAll(`[data-section=\"${section}\"]`)\n  pills.forEach((pill) => {\n    pill.setAttribute('data-stored', true)\n  })\n}\n","/**\n * A utility for mananging toast like UI messages.\n */\nexport const Toast = (function (options = {}) {\n  const settings = {\n    selector: 'body',\n    className: 'toast'\n  }\n\n  const Constructor = function (options) {\n    let ID = 0\n    const publicAPIs = {}\n    publicAPIs.settings = { ...settings, ...options }\n    publicAPIs.className = publicAPIs.settings.className\n    publicAPIs.target = document.querySelector(publicAPIs.settings.selector)\n\n    if (!publicAPIs.target) {\n      throw new Error(\n        `Toast: the target element \"${publicAPIs.settings.selector}\" could not be found.`\n      )\n    }\n\n    // Private Methods\n    /**\n     * Simple unique ID generator for toasts.\n     * ID's are unique for the current session only.\n     *\n     * @returns string ID, unique to the current session\n     */\n    const toastID = function () {\n      return `${publicAPIs.settings.selector}-${ID++}`.toString()\n    }\n\n    /**\n     * Create new toast messages\n     *\n     * @param {string} message\n     * @param {int} autohide default 0 or autohide after specified milliseconds\n     * @param {boolean} dismiss outputs a dismiss button\n     * @param {boolean} prepend prepend instead of append the toast\n     * @param {array} classes an array of suplimental classes\n     * @param {string} id pass in your own ID insead of using the internal methods\n     * @returns {string|boolean:false} ID for the toast message just created\n     */\n    publicAPIs.create = function (\n      message,\n      autohide = 0,\n      dismiss = false,\n      prepend = true,\n      classes = [],\n      id = false\n    ) {\n      if (!message) {\n        throw new Error('Toast.js requires a message string!')\n      }\n      id = id || toastID()\n      const toast = document.createElement('div')\n\n      toast.setAttribute('role', 'alert')\n      toast.setAttribute('data-toast-id', id)\n      toast.classList.add(this.className, ...classes)\n      if (autohide) {\n        setTimeout(() => toast.remove(), autohide)\n      }\n      if (dismiss) {\n        toast.innerHTML = `${message} <button class=\"toast-close\" arial-lable=\"close\">&#x2715</button>`\n\n        toast.addEventListener('click', function (e) {\n          if (!e.target.matches('.toast-close')) return\n          toast.remove()\n          toast.removeEventListener('click', close)\n        })\n      } else {\n        toast.innerHTML = `${message}`\n      }\n      prepend\n        ? publicAPIs.target.prepend(toast)\n        : publicAPIs.target.append(toast)\n\n      // append message 1ms later so it will be announced by screen readers, thanks Heydon.\n      setTimeout(() => toast.innerHTML, 1)\n      return id\n    }\n\n    /**\n     * Remove toasts from DOM\n     *\n     * @param {string} id of the toast to be reomved from the DOM\n     * @returns\n     */\n    publicAPIs.destroy = function (id) {\n      if (!id) return false\n      const target = document.querySelector(`[data-toast-id=\"${id}\"]`)\n      if (target) {\n        target.remove()\n        return publicAPIs\n      }\n      return false\n    }\n    return publicAPIs\n  }\n  return Constructor\n})()\n","import { simpleRouter } from './_simple_router'\nimport { Toast } from '@bnjmnrsh/toast'\n\nconst disableEnableLinks = function (navEls, disable = true) {\n  if (!navEls) return\n  navEls.forEach(function (el) {\n    if (disable) {\n      if (el.dataset.stored === 'false') {\n        el.setAttribute('data-href', el.href)\n        el.removeAttribute('href', 'href-disabled')\n        el.setAttribute('aria-disabled', true)\n      }\n    } else {\n      el.setAttribute('href', el.dataset.href)\n      el.removeAttribute('aria-disabled')\n      el.removeAttribute('data-href')\n    }\n  })\n}\n\n/**\n * Detect network availability\n */\nexport const networkAvaliabilty = function () {\n  const status = navigator.onLine ? 'online' : 'offline'\n  document.body.setAttribute('data-network', status)\n\n  const networkNotice = new Toast()\n  let curentNotice = ''\n  let timeStamp = Date.now().toString()\n\n  window.addEventListener('offline', (e) => {\n    const nav = document.querySelectorAll('.noise .pill')\n    console.log(nav)\n\n    console.warn('Network unavailable')\n    timeStamp = Date.now()\n    disableEnableLinks(nav)\n    document.body.setAttribute('data-network', 'offline')\n    curentNotice = networkNotice.create(\n      'Sorry, you are currently off line',\n      0,\n      false,\n      true,\n      ['offline-notice']\n    )\n  })\n\n  window.addEventListener('online', () => {\n    const nav = document.querySelectorAll('.noise .pill')\n    console.log(nav)\n    console.warn('Network available')\n    document.body.setAttribute('data-network', 'online')\n    disableEnableLinks(nav, false)\n    if (Date.now() - timeStamp > 30000) simpleRouter()\n    networkNotice.destroy(curentNotice)\n  })\n}\n","import { scrollToTop } from './_scroll_to_top.js'\nimport { aSections } from './_section_array.js'\nimport { simpleRouter } from './_simple_router.js'\nimport { buildNav } from './_build_nav.js'\nimport { networkAvaliabilty } from './_network.js'\nconst app = document.querySelector('#app')\n\nnetworkAvaliabilty('', true)\nbuildNav(app, aSections)\nsimpleRouter() // kicks off _fetchArticles.js\nscrollToTop('#newsfeed-wrap')\n"],"names":["$ece78b9a9c5b0cc5$export$b970e447caab2d4f","$e78d545f39cfd27b$export$2e2bcd8739ae039","arr","len","length","i","arr2","Array","$4aa54459bf1e0679$export$2e2bcd8739ae039","isArray","$fd8661f7d7294f2d$export$2e2bcd8739ae039","iter","Symbol","iterator","from","$6189b4a2dd90e807$export$2e2bcd8739ae039","TypeError","$8a8e16b508f2245f$export$2e2bcd8739ae039","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","$900ff127de26db46$export$2e2bcd8739ae039","$eb36d1f6b1b309f9$export$4c430f6036207e33","str","temp","document","createElement","textContent","innerHTML","$714c53b3e09a3f4a$export$2e2a5ed6cc972248","currentPg","window","location","hash","replace","pills","querySelector","querySelectorAll","console","log","forEach","pill","classList","contains","add","remove","$431583e99892b8cb$export$2e2bcd8739ae039","obj","key","value","defineProperty","enumerable","configurable","writable","$093e86929895fa3b$export$2e2bcd8739ae039","target","arguments","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","addEventListener","e","dataset","undefined","section","$e5e9d5e0d667b893$export$b6ae1bc530f4c149","options","targets","targetObservedClass","defaults","root","rootMargin","threshold","targetEls","handelIntersection","el","isIntersecting","observer1","IntersectionObserver","observe","warn","$02477ab5a7a188e3$export$f6b8acb8d73f5c4f","oData","articleList","loader","style","opacity","top_stories","results","map","article","ref","ref1","ref2","ref3","ref4","ref5","ref6","ref7","ref8","ref9","ref10","ref11","vaidSection","indexOf","assembly","multimedia","url","title","width","height","copyright","byline","join","$a01c3021d6daa064$export$2e2bcd8739ae039","instance","Constructor","$102b61b59d503f39$export$2e2bcd8739ae039","receiver","privateMap","action","has","get","$4c73bb8b3c590213$export$2e2bcd8739ae039","descriptor","$d0079cbfc339b4a8$export$2e2bcd8739ae039","$5b0fc51a9afc1d9d$export$2e2bcd8739ae039","privateCollection","$a76953d675544423$export$2e2bcd8739ae039","set","$13092027942d5a85$export$2e2bcd8739ae039","$64424ce4b37f927e$export$2e2bcd8739ae039","$f4a8b761a5da0756$export$2e2bcd8739ae039","privateSet","fn","$2c61ef64ec0d6bef$export$2e2bcd8739ae039","$7037dc5cd0a5f8ae$var$_defineProperties","props","$dc7dd3c4677b18d1$export$2e2bcd8739ae039","classConstructor","$60892cb219f2173d$export$2e2bcd8739ae039","method","pocketKey","store","settings","isObject","$4f1bc56036608228$export$606ac585bcfc66d2","Satchel","cargo","local","pocket","this","localStorage","sessionStorage","Error","stcl","data","expiry","protoProps","staticProps","age","JSON","parse","getItem","Date","now","_creation","creation","fresh","isFresh","bin","item","removeItem","emit","oldValue","storageArea","storageAreaString","getStale","exsisting","stringify","storedEntry","setItem","newValue","getKey","_stcl","prefix","static","detail","href","event","CustomEvent","bubbles","cancelable","dispatchEvent","doesit","$ded31782571a061d$var$generateErrorsMarkup","err","stack","type","statusText","status","error","error_message","split","pop","$ded31782571a061d$var$getStoredArticles","forced","storedArticles","getSatchel","navigator","onLine","body","scrollTo","$ded31782571a061d$export$b83573081c79c442","sSection","fetchedArticles","Promise","resolve","reject","fetch","$ded31782571a061d$var$API","then","resp","json","ok","setKey","errs","articlesEl","tryStore","$71941be0cc3a0594$export$b4815c10c0abc9e0","urlHash","loadedSection","getAttribute","setAttribute","removeEventListener","setTimeout","$f43546a45684ae06$export$ccb6f83156242dd7","allKeys","startsWith","rootEl","navEls","Toast","selector","className","ID","publicAPIs","create","message","toast","autohide","dismiss","prepend","classes","id","matches","close","append","destroy","$7e9eef5dc8ff2a63$var$disableEnableLinks","disable","stored","removeAttribute","$4523ef7102ff58bd$var$app","networkNotice","$bcd4250cab8f40a0$export$8d8dc7d5f743331b","curentNotice","timeStamp","nav","navEl","isStored","includes","targetEl","triggerPoint","scrollingEl","sttEl","elTrigger","scrollY","scrollTop","scrollingElement"],"version":3,"file":"index.5815cea9.js.map"}