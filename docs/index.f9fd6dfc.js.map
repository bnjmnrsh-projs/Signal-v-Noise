{"mappings":"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","sources":["src/js/_scroll_to_top.js","src/js/_section_array.js","src/js/_snitiz.js","node_modules/@swc/helpers/src/_define_property.mjs","node_modules/@swc/helpers/src/_object_spread.mjs","src/js/_nav_active_link.js","src/js/observer.js","src/js/_build_articles.js","src/js/_fetch_articles.js","src/js/_simple_router.js","node_modules/@swc/helpers/src/_array_like_to_array.mjs","node_modules/@swc/helpers/src/_array_without_holes.mjs","node_modules/@swc/helpers/src/_iterable_to_array.mjs","node_modules/@swc/helpers/src/_non_iterable_spread.mjs","node_modules/@swc/helpers/src/_unsupported_iterable_to_array.mjs","node_modules/@swc/helpers/src/_to_consumable_array.mjs","src/js/_toast.js","src/js/_build_nav.js","src/js/_network.js","src/js/app.js"],"sourcesContent":["/**\n * Scroll to the top of an element and add or remove classes for styleing.\n * The scrolling speed & behavior is managed by css.\n *\n * @param string targetEl class name of the element to be scrolled to the top.\n */\nexport const scrollToTop = function (targetEl, triggerPoint = 100) {\n  const scrollingEl = document.querySelector(targetEl)\n  const sttEl = document.querySelector('#stt')\n\n  function elTrigger(el) {\n    // window does not have scrollTop\n    if (el.scrollTop || el.scrollY > triggerPoint) {\n      document.body.classList.add('scrolled')\n      sttEl.classList.add('-is-revealed')\n    } else {\n      document.body.classList.remove('scrolled')\n      sttEl.classList.remove('-is-revealed')\n    }\n  }\n\n  window.addEventListener('scroll', (e) => elTrigger(window))\n  scrollingEl.addEventListener('scroll', (e) => elTrigger(scrollingEl))\n\n  sttEl.addEventListener('click', (e) => {\n    document.scrollingElement.scrollTo(0, 0)\n    scrollingEl.scrollTo(0, 0)\n  })\n}\n","/*\n      The sections listed, in the 'section' param in the API, may not always resolve to\n        a section via https://www.nytimes.com/section/{section}.\n      The list that appears on the top-stories doumentation, is also not complete.\n      As there isn't an endpoint that I am aware of for getting an official list of sections,\n      I'm rolling own.\n\n      https://developer.nytimes.com/docs/top-stories-product/1/overview\n  */\nexport const aSections = [\n  'home',\n  'arts',\n  'automobiles',\n  'books',\n  'business',\n  'climate',\n  'dining',\n  'fashion',\n  'food',\n  'health',\n  'insider',\n  'magazine',\n  'movies',\n  'nyregion',\n  'obituaries',\n  'opinion',\n  'politics',\n  'realestate',\n  'science',\n  'sports',\n  'style',\n  'sundayreview',\n  'technology',\n  'theater',\n  't-magazine',\n  'travel',\n  'upshot',\n  'us',\n  'world'\n]\n","/**\n * Sanitize and encode all HTML in a user-submitted string\n * https://gomakethings.com/preventing-cross-site-scripting-attacks-when-using-innerhtml-in-vanilla-javascript/\n * @param  {String} str  The user-submitted data as string\n * @return {String} str  The sanitized string\n */\nexport const snitiz = function (str) {\n  const temp = document.createElement('div')\n  temp.textContent = str\n  return temp.innerHTML\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","import defineProperty from './_define_property.mjs';\n\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","/**\n * Set the current page link to active\n *\n */\nexport const navActiveLink = function (navLink) {\n  const currentPg = window.location.hash.replace('#', '')\n  const nav = document.querySelector('nav.noise')\n\n  if (navLink) {\n    // iterate over each link\n    const pills = nav.querySelectorAll('.pill')\n\n    pills.forEach(function (pill) {\n      pill.classList.remove('active')\n\n      if (pill.classList.contains(currentPg)) {\n        pill.classList.add('active')\n      }\n    })\n  }\n}\n\n/**\n * Listener callback for nav clicks\n *\n * @param {*} e\n */\nexport const navLink = function (e) {\n  if ('section' in e.target.dataset) {\n    document\n      .querySelector('#app')\n      .setAttribute('data-section', e.target.dataset.section)\n    e.target.classList.add('active')\n  }\n}\n\naddEventListener('click', navLink)\n","/**\n * A simple Intersection Observer handeler\n *\n * @param object options object\n * @param string id of container element, defaults to the body element\n * @param string class assigned to target elements, defaults to '.observable'\n * @returns\n */\nexport const observer = function (\n  options = {},\n  targets = '.observable',\n  targetObservedClass = 'loaded'\n) {\n  const defaults = {\n    root: document.querySelector('body'),\n    rootMargin: '0px',\n    threshold: 1.0\n  }\n  options = { ...defaults, ...options }\n\n  const targetEls = document.querySelectorAll(targets)\n\n  if (!targetEls.length) {\n    console.warn('No observerable elements named', targets)\n    return\n  }\n\n  const handelIntersection = function (targetEls) {\n    targetEls.forEach((el) => {\n      if (el.isIntersecting) {\n        el.target.classList.add(targetObservedClass)\n      }\n    })\n  }\n  const observer = new IntersectionObserver(handelIntersection, options)\n  targetEls.forEach((el) => observer.observe(el))\n}\n","import { snitiz } from './_snitiz'\nimport { navActiveLink } from './_nav_active_link'\nimport { aSections } from './_section_array'\nimport { observer } from './observer'\n\n/**\n * Build the articles from API data, triggered by _fetchArticles.js\n *\n * @param object oData, the incoming API data.\n */\nexport const buildArticles = function (oData) {\n  const articleList = document.querySelector('#articles')\n  const loader = document.querySelector('#loader')\n  loader.style.opacity = 1\n  navActiveLink()\n\n  // prettier-ignore\n  articleList.innerHTML =\n            oData.top_stories.results\n                .map(function (article) {\n                    const vaidSection = aSections.indexOf(snitiz(article.section)) >= 0\n                    if (!vaidSection) {\n                        if(article.section === \"admin\") return '' // remove empty 'admin' sections\n                    }\n\n                    if (!article.abstract) return '' // remove orpahaned articles\n\n                    let assembly = `<li>\n                                    <article class=\"news-item ${snitiz(article.section)}\">\n                                        <header>`\n                    // Account for multimedia not coming in as expeced.\n                    if (\n                        'multimedia' in article &&\n                        article.multimedia !== null &&\n                        article.multimedia.length >= 3\n                    ) {\n                        assembly += `<a href=\"${snitiz(\n                          article?.short_url\n                        )}\" title=\"${snitiz(article.title)}\">\n                                                <img class=\"loading-bg\"\n                                                scrset=\"${snitiz(\n                                                  article.multimedia[0]?.url\n                                                )} ${snitiz(\n                          article?.multimedia[0]?.width\n                        )}w,\n                                                    ${snitiz(\n                                                      article.multimedia[1]?.url\n                                                    )} ${snitiz(\n                          article?.multimedia[1]?.width\n                        )}w,\n                                                    ${snitiz(\n                                                      article.multimedia[2]?.url\n                                                    )} ${snitiz(\n                          article?.multimedia[2]?.width\n                        )}w,\n                                                    ${snitiz(\n                                                      article.multimedia[3]?.url\n                                                    )} ${snitiz(\n                          article?.multimedia[3]?.width\n                        )}w\"\n                                                src=\"${snitiz(\n                                                  article.multimedia[1]?.url\n                                                )}\"\n                                                 height=\"${snitiz(\n                                                   article.multimedia[1]?.height\n                                                 )}\"\n                                                 width=\"${snitiz(\n                                                   article?.multimedia[1]?.width\n                                                 )}\"\n                                                alt=\"${snitiz(\n                                                  article?.multimedia[1]\n                                                    ?.copyright\n                                                )}\" role=\"presentation\"/>\n                                            </a>`\n                    }\n                    assembly += `</header>\n                                        <section class=\"news-content\">\n                                            <header>\n                                                <h3 class=\"hyphens\"><a href=\"${snitiz(article.short_url)\n                        }\">${article.title}</a></h3>\n                                                  <p class=\"details\">`\n                    if (vaidSection) {\n                        assembly += `<a class=\"pill ${snitiz(article.section)}\" href=\"https://www.nytimes.com/section/${snitiz(article.section)}\">`\n                    } else {\n                        if (article.section) {\n                            assembly += `<span class=\"pill ${snitiz(article.section)}\">`\n                        }\n                    }\n                    assembly += `${snitiz(article.section)} ${vaidSection ? '</a>' : '</span>'}\n                                                    ${article?.byline ? '<span class=\"byline\">' : ''}\n                                                    ${article?.byline ? snitiz(article?.byline) : ''}\n                                                    ${article?.byline ? '</span>' : ''}\n                                                </p>\n                                            </header>\n                                            <div class=\"abstract\">`\n                    if (article.abstract) {\n                        assembly += `<p class=\"hyphens\">${snitiz(article?.abstract)}\n                                        <a href=\"${snitiz(article.short_url)}\" title=\"${snitiz( article.title)}\" class=\"read-more\">[...more]</a>\n                                      </p>`\n                    }\n                    assembly += `</div>\n                                        </section>\n                                    </article>\n                                </li>`\n\n                    return assembly\n                })\n            .join('')\n  loader.style.opacity = 0\n\n  observer(\n    { root: document.querySelector('#newsfeed-wrap'), threshold: 0.25 },\n    '.news-item'\n  )\n}\n","import { buildArticles } from './_build_articles'\nconst API = 'https://signal-v-noise-worker.bnjmnrsh.workers.dev'\n\n/**\n * Create markup string for error reporting messages\n *\n * @param object err object\n * @returns string\n */\nconst generateErrorsMarkup = function (err) {\n  return `\n<div id=\"ohnos\">\n  <h3><span aria-hidden=\"true\">⥀.⥀ <br/></span>Oh Nooos!</h3>\n  <p class=\"sr-only\">There has been a crittical error:</p>\n    <div>\n<pre>\n${err.stack || ''}\n${err.type || ''}\n${`${err.statusText || ''} ${err.status || ''}`}\n${\n  err.top_stories.status === 429\n    ? `${err.top_stories.status} too many requests`\n    : err.top_stories.status\n}\n${err.top_stories?.error || ''}\n${\n  err.top_stories.error_message\n    ? ` Route not found: ${err.top_stories.error_message\n        .split('/')\n        .pop()\n        .replace('.json', '')}`\n    : ''\n}\n</pre>\n    </div>\n</div>`\n}\n\n/**\n * Gets the articles, defauts to 'home' section\n *\n * @param {string} [section='home']\n */\nexport const fetchArticles = function (sSecton = 'home') {\n  const loader = document.querySelector('#loader')\n  loader.style.opacity = 1\n  if (!navigator.onLine) return\n\n  const articles = new Promise(function (resolve, reject) {\n    document.body.classList.add('loading')\n    let data\n    fetch(API + '?section=' + sSecton)\n      .then(function (resp) {\n        document.body.classList.remove('loading')\n        data = resp.json()\n        if (resp.ok && resp.status === 200) {\n          return data\n        } else {\n          throw resp\n        }\n      })\n      .then(function (data) {\n        if (data.top_stories.status !== 'OK') {\n          throw data\n        }\n        buildArticles(data)\n        document.body.querySelector('#newsfeed-wrap').scrollTo(0, 0)\n        return data\n      })\n      .catch(function (errs) {\n        loader.style.opacity = 0\n        const articlesEl = document.querySelector('#articles')\n        console.error(errs)\n        if (articlesEl) {\n          articlesEl.innerHTML = generateErrorsMarkup(errs)\n        }\n      })\n  })\n  return articles\n}\n","import { fetchArticles } from './_fetch_articles'\n\n/**\n * A simple hash based router without caching\n *\n */\nexport const simpleRouter = function () {\n  let urlHash = window.location.hash.replace('#', '')\n  let loadedSection = document\n    .querySelector('#app')\n    .getAttribute('data-section')\n\n  urlHash = urlHash || 'home' // If there is no hash, were're home.\n\n  if (!loadedSection && urlHash) {\n    // first load, but to a section not the homepage\n    loadedSection = urlHash\n    document.querySelector('#app').setAttribute('data-section', urlHash)\n  }\n  // scrollToTop triggers a hashchange, this prevents mutiple fireing of fetchArticles\n  if (urlHash === 'null' || urlHash === 'head') {\n    window.removeEventListener('hashchange', simpleRouter)\n    window.location.hash = loadedSection\n    // delay re-enableing the listener to prevent hashchange firing mutiple times.\n    // Could use a debounce but this works fine.\n    setTimeout(() => window.addEventListener('hashchange', simpleRouter), 1)\n  } else {\n    fetchArticles(urlHash)\n  }\n}\nwindow.addEventListener('hashchange', simpleRouter)\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n","import _arrayLikeToArray from './_array_like_to_array.mjs';\n\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","import _arrayLikeToArray from './_array_like_to_array.mjs';\n\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\n","import arrayWithoutHoles from './_array_without_holes.mjs';\nimport iterableToArray from './_iterable_to_array.mjs';\nimport nonIterableSpread from './_non_iterable_spread.mjs';\nimport unsupportedIterableToArray from './_unsupported_iterable_to_array.mjs';\n\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n","/**\n * Module for generating custom toast messages.\n */\nexport const Toast = (function (options = {}) {\n  const settings = {\n    selector: 'body',\n    className: 'toast',\n    prepend: false\n  }\n\n  const Constructor = function (options) {\n    let ID = 0\n    const publicAPIs = {}\n    publicAPIs.settings = { ...options, ...settings }\n    publicAPIs.target = document.querySelector(publicAPIs.settings.selector)\n    publicAPIs.className = publicAPIs.settings.className\n\n    // Private Methods\n    /**\n     * Simple unique ID generator for toasts.\n     * ID's are unique for the current session only.\n     *\n     * @returns string ID, unique to the current session\n     */\n    const toastID = function () {\n      return (ID++).toString()\n    }\n\n    /**\n     * Create new toast messages\n     *\n     * @param {string} message\n     * @param {int} autohide default 0 or autohide after specified milliseconds\n     * @param {boolean} dismiss outputs a dismiss button\n     * @param {boolean} prepend prepend instead of append the toast\n     * @param {array} classes an array of suplimental classes\n     * @param {string} id pass in your own ID insead of using the internal methods\n     * @returns {string} ID for the toast message just created\n     */\n    publicAPIs.create = function (\n      message,\n      autohide = 0,\n      dismiss = false,\n      prepend = false,\n      classes = [],\n      id = false\n    ) {\n      if (!this.target || !message) return\n      id = id || toastID()\n      const toast = document.createElement('div')\n\n      toast.setAttribute('role', 'alert')\n      toast.setAttribute('data-toast', id)\n      toast.classList.add(this.className, ...classes)\n      if (autohide) {\n        setTimeout(function () {\n          toast.remove()\n        }, autohide)\n      }\n      if (dismiss) {\n        toast.innerHTML = `${message} <button class=\"toast-close\" arial-lable=\"close\">&#x2715</button>`\n\n        toast.addEventListener('click', function (e) {\n          if (!e.target.matches('.toast-close')) return\n          toast.remove()\n          toast.removeEventListener('click', close)\n        })\n      } else {\n        toast.innerHTML = `${message}`\n      }\n\n      prepend\n        ? publicAPIs.target.prepend(toast)\n        : publicAPIs.target.append(toast)\n\n      // append message 1ms later so it will be announced by screen readers\n      setTimeout(() => toast.innerHTML, 1)\n      return id\n    }\n\n    /**\n     * Remove toasts from DOM\n     *\n     * @param {string} id of the toast to be reomved from the DOM\n     * @returns\n     */\n    publicAPIs.destroy = function (id) {\n      if (!id) return\n      const target = document.querySelector(`[data-toast=\"${id}\"]`)\n      if (target) target.remove()\n    }\n    return publicAPIs\n  }\n  return Constructor\n})()\n","/**\n * Build the nav pills using our section array.\n *\n * @param {array} [data=aSections]\n */\nexport const buildNav = function (rootEl, navEls) {\n  const navItems = rootEl.querySelector('nav')\n  navItems.innerHTML =\n    '<ul>' +\n    navEls\n      .map(function (navEl) {\n        return `<li><a href=\"#${navEl}\" class=\"pill ${navEl}\" data-section=\"${navEl}\">${navEl}</a></li>`\n      })\n      .join('') +\n    '</ul>'\n}\n","import { simpleRouter } from './_simple_router'\nimport { Toast } from './_toast.js'\n\nconst disableEnableLinks = function (navEls, disable = true) {\n  if (!navEls) return\n  navEls.forEach(function (el) {\n    if (disable) {\n      el.setAttribute('data-href', el.href)\n      el.removeAttribute('href', 'href-disabled')\n      el.setAttribute('aria-disabled', true)\n    } else {\n      el.setAttribute('href', el.dataset.href)\n      el.removeAttribute('aria-disabled')\n      el.removeAttribute('data-href')\n    }\n  })\n}\n\n/**\n * Detect network availability\n */\nexport const network = function () {\n  const status = navigator.onLine ? 'online' : 'offline'\n  document.body.setAttribute('data-network', status)\n\n  const networkNotice = new Toast()\n  let curentNotice = ''\n  let timeStamp = Date.now().toString()\n\n  window.addEventListener('offline', (e) => {\n    const nav = document.querySelectorAll('.noise .pill')\n    console.log(nav)\n\n    console.warn('Network unavailable')\n    timeStamp = Date.now()\n    disableEnableLinks(nav)\n    document.body.setAttribute('data-network', 'offline')\n    curentNotice = networkNotice.create(\n      'Sorry, you are currently off line',\n      0,\n      false,\n      true,\n      ['offline-notice']\n    )\n  })\n\n  window.addEventListener('online', () => {\n    const nav = document.querySelectorAll('.noise .pill')\n    console.log(nav)\n    console.warn('Network available')\n    document.body.setAttribute('data-network', 'online')\n    disableEnableLinks(nav, false)\n    if (Date.now() - timeStamp > 30000) simpleRouter()\n    networkNotice.destroy(curentNotice)\n  })\n}\n","import { scrollToTop } from './_scroll_to_top.js'\nimport { aSections } from './_section_array.js'\nimport { simpleRouter } from './_simple_router.js'\nimport { buildNav } from './_build_nav.js'\nimport { network } from './_network.js'\nconst app = document.querySelector('#app')\n\nnetwork()\nbuildNav(app, aSections)\nsimpleRouter() // kicks off _fetchArticles.js\nscrollToTop('#newsfeed-wrap')\n"],"names":["$ece78b9a9c5b0cc5$export$b970e447caab2d4f","$9d7163e5c71a7a8a$export$4c430f6036207e33","str","temp","document","createElement","textContent","innerHTML","$431583e99892b8cb$export$2e2bcd8739ae039","obj","key","value","Object","defineProperty","enumerable","configurable","writable","$093e86929895fa3b$export$2e2bcd8739ae039","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","addEventListener","e","dataset","querySelector","setAttribute","section","classList","add","$9bd3ceab9fb79b60$export$b6ae1bc530f4c149","options","targets","targetObservedClass","defaults","root","rootMargin","threshold","targetEls","querySelectorAll","handelIntersection","el","isIntersecting","observer1","IntersectionObserver","observe","console","warn","$02477ab5a7a188e3$export$f6b8acb8d73f5c4f","oData","navLink","currentPg","nav","articleList","loader","style","opacity","window","location","hash","replace","pill","remove","contains","top_stories","results","map","article","ref","ref1","ref2","ref3","ref4","ref5","ref6","ref7","ref8","ref9","ref10","ref11","vaidSection","indexOf","assembly","multimedia","short_url","title","url","width","height","copyright","byline","join","$ded31782571a061d$var$generateErrorsMarkup","err","stack","type","statusText","status","error","error_message","split","pop","$ded31782571a061d$export$b83573081c79c442","sSecton","navigator","onLine","articles","Promise","resolve","reject","data","body","fetch","$ded31782571a061d$var$API","then","resp","json","ok","scrollTo","errs","articlesEl","$71941be0cc3a0594$export$b4815c10c0abc9e0","urlHash","loadedSection","getAttribute","removeEventListener","setTimeout","$e78d545f39cfd27b$export$2e2bcd8739ae039","arr","len","arr2","Array","$4aa54459bf1e0679$export$2e2bcd8739ae039","isArray","$fd8661f7d7294f2d$export$2e2bcd8739ae039","iter","Symbol","iterator","from","$6189b4a2dd90e807$export$2e2bcd8739ae039","TypeError","$8a8e16b508f2245f$export$2e2bcd8739ae039","o","minLen","n","prototype","toString","call","slice","constructor","name","test","$900ff127de26db46$export$2e2bcd8739ae039","navEls","$8c3304c19eb3f2fe$export$8d8dc7d5f743331b","settings","selector","className","prepend","Constructor","ID","publicAPIs","toastID","create","message","_classList","autohide","dismiss","classes","id","this","toast","apply","matches","close","append","destroy","$7e9eef5dc8ff2a63$var$disableEnableLinks","disable","href","removeAttribute","$4523ef7102ff58bd$var$app","networkNotice","curentNotice","timeStamp","Date","now","log","navEl","targetEl","triggerPoint","elTrigger","scrollTop","scrollY","sttEl","scrollingEl","scrollingElement"],"version":3,"file":"index.f9fd6dfc.js.map"}