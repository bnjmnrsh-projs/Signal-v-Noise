var e=["home","arts","automobiles","books","business","climate","dining","fashion","food","health","insider","magazine","movies","nyregion","obituaries","opinion","politics","realestate","science","sports","style","sundayreview","technology","theater","t-magazine","travel","upshot","us","world"],t=function(e){var t=document.createElement("div");return t.textContent=e,t.innerHTML};function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},r=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),r.forEach((function(t){n(e,t,o[t])}))}return e}addEventListener("click",(function(e){"section"in e.target.dataset&&e.target.classList.add("active")}));var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".observable",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"loaded",r={root:document.querySelector("body"),rootMargin:"0px",threshold:1};e=o({},r,e);var i=document.querySelectorAll(t);if(i.length){var a=function(e){e.forEach((function(e){e.isIntersecting&&e.target.classList.add(n)}))},c=new IntersectionObserver(a,e);i.forEach((function(e){return c.observe(e)}))}else console.warn("No observerable elements named",t)},i=function(n){var o,i,a,c=document.querySelector("#articles"),l=document.querySelector("#loader");l.style.opacity=1,i=window.location.hash.replace("#",""),a=document.querySelector("nav.noise"),o&&a.querySelectorAll(".pill").forEach((function(e){e.classList.remove("active"),e.classList.contains(i)&&e.classList.add("active")})),c.innerHTML=n.results.map((function(n){var o,r,i,a,c,l,s,d,u,v,m,f,h=e.indexOf(t(n.section))>=0;if(!h&&"admin"===n.section)return"";if(!n.abstract)return"";var y='<li>\n                                    <article class="news-item '.concat(t(n.section),'">\n                                        <header>');return"multimedia"in n&&null!==n.multimedia&&n.multimedia.length>=3&&(y+='<a href="'.concat(t(null==n?void 0:n.short_url),'" title="').concat(t(n.title),'">\n                                                <img class="loading-bg"\n                                                scrset="').concat(t(null===(o=n.multimedia[0])||void 0===o?void 0:o.url)," ").concat(t(null===(r=null==n?void 0:n.multimedia[0])||void 0===r?void 0:r.width),"w,\n                                                    ").concat(t(null===(i=n.multimedia[1])||void 0===i?void 0:i.url)," ").concat(t(null===(a=null==n?void 0:n.multimedia[1])||void 0===a?void 0:a.width),"w,\n                                                    ").concat(t(null===(c=n.multimedia[2])||void 0===c?void 0:c.url)," ").concat(t(null===(l=null==n?void 0:n.multimedia[2])||void 0===l?void 0:l.width),"w,\n                                                    ").concat(t(null===(s=n.multimedia[3])||void 0===s?void 0:s.url)," ").concat(t(null===(d=null==n?void 0:n.multimedia[3])||void 0===d?void 0:d.width),'w"\n                                                src="').concat(t(null===(u=n.multimedia[1])||void 0===u?void 0:u.url),'"\n                                                 height="').concat(t(null===(v=n.multimedia[1])||void 0===v?void 0:v.height),'"\n                                                 width="').concat(t(null===(m=null==n?void 0:n.multimedia[1])||void 0===m?void 0:m.width),'"\n                                                alt="').concat(t(null===(f=null==n?void 0:n.multimedia[1])||void 0===f?void 0:f.copyright),'" role="presentation"/>\n                                            </a>')),y+='</header>\n                                        <section class="news-content">\n                                            <header>\n                                                <h3 class="hyphens"><a href="'.concat(t(n.short_url),'">').concat(n.title,'</a></h3>\n                                                  <p class="details">'),h?y+='<a class="pill '.concat(t(n.section),'" href="https://www.nytimes.com/section/').concat(t(n.section),'">'):n.section&&(y+='<span class="pill '.concat(t(n.section),'">')),y+="".concat(t(n.section)," ").concat(h?"</a>":"</span>","\n                                                    ").concat((null==n?void 0:n.byline)?'<span class="byline">':"","\n                                                    ").concat((null==n?void 0:n.byline)?t(null==n?void 0:n.byline):"","\n                                                    ").concat((null==n?void 0:n.byline)?"</span>":"",'\n                                                </p>\n                                            </header>\n                                            <div class="abstract">'),n.abstract&&(y+='<p class="hyphens">'.concat(t(null==n?void 0:n.abstract),'\n                                                    <a href="').concat(t(n.short_url),'" title="').concat(t(n.title),'" class="read-more">[...more]</a>\n                                                </p>')),y+="</div>\n                                        </section>\n                                    </article>\n                                </li>"})).join(""),l.style.opacity=0,r({root:document.querySelector("#newsfeed-wrap"),threshold:.25},".news-item")},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"home",t=document.querySelector("#loader");if(t.style.opacity=1,document.body.classList.add("loading"),navigator.onLine){var n=new Promise((function(n,o){fetch("https://api.nytimes.com/svc/topstories/v2/"+e+".json?api-key=phTGaNCB3ipdmBV1gZ1OlGVX6rne7i8Z").then((function(e){if(e.ok)return document.body.classList.remove("loading"),e.json();throw document.body.classList.remove("loading"),e})).then((function(e){return i(e),document.body.querySelector("#newsfeed-wrap").scrollTo(0,0),e})).catch((function(e,n){t.style.opacity=0;var o=document.querySelector("#articles");console.error(e);var r='<div id="ohnos">\n                        <h3><span aria-hidden="true">⥀.⥀ <br/></span>Oh Nooos!</h3>\n                        <p class="sr-only">There has been a crittical error:</p>\n                        <div>\n                            '.concat(e.stack?"<pre>"+e.stack+"<pre>":"","\n                            ").concat(e.status?"<pre>"+e.statusText+": "+e.status+"<pre>":"","\n                        </div>\n                    </div>");o&&(o.innerHTML=r)}))}));return n}},c=function(){var e=window.location.hash.replace("#","");a(e=e||"home")};addEventListener("hashchange",c);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function s(e){if(Array.isArray(e))return l(e)}function d(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function m(e){return s(e)||d(e)||v(e)||u()}var f,h=function(){var e={selector:"body",className:"toast",prepend:!1},t=function(t){var n=0,r={};r.settings=o({},t,e),r.target=document.querySelector(r.settings.selector),r.className=r.settings.className;var i=function(){return(n++).toString()};return r.create=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],l=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(this.target&&e){l=l||i();var s=document.createElement("div");return s.setAttribute("role","alert"),s.setAttribute("data-toast",l),(t=s.classList).add.apply(t,[this.className].concat(m(c))),n&&setTimeout((function(){s.remove()}),n),o?(s.innerHTML="".concat(e,' <button class="toast-close" arial-lable="close">&#x2715</button>'),s.addEventListener("click",(function(e){e.target.matches(".toast-close")&&(s.remove(),s.removeEventListener("click",close))}))):s.innerHTML="".concat(e),a?r.target.prepend(s):r.target.append(s),setTimeout((function(){return s.innerHTML}),1),l}},r.destroy=function(e){if(e){var t=document.querySelector('[data-toast="'.concat(e,'"]'));t&&t.remove()}},r};return t}(),y=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&e.forEach((function(e){t?(e.setAttribute("data-href",e.href),e.removeAttribute("href","href-disabled"),e.setAttribute("aria-disabled",!0)):(e.setAttribute("href",e.dataset.href),e.removeAttribute("aria-disabled"),e.removeAttribute("data-href"))}))},p=document.querySelector("#app");!function(){var e=navigator.onLine?"online":"offline";document.body.setAttribute("data-network",e);var t=new h,n="",o=Date.now().toString();window.addEventListener("offline",(function(e){var r=document.querySelectorAll(".noise .pill");console.log(r),console.warn("Network unavailable"),o=Date.now(),y(r),document.body.setAttribute("data-network","offline"),n=t.create("Sorry, you are currently off line",0,!1,!0,["offline-notice"])})),window.addEventListener("online",(function(){var e=document.querySelectorAll(".noise .pill");console.log(e),console.warn("Network available"),document.body.setAttribute("data-network","online"),y(e,!1),Date.now()-o>3e4&&c(),t.destroy(n)}))}(),f=e,p.querySelector("nav").innerHTML="<ul>"+f.map((function(e){return'<li><a href="#'.concat(e,'" class="pill ').concat(e,'" data-section="').concat(e,'">').concat(e,"</a></li>")})).join("")+"</ul>",c(),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=function(e){e.scrollTop||e.scrollY>t?(document.body.classList.add("scrolled"),r.classList.add("-is-revealed")):(document.body.classList.remove("scrolled"),r.classList.remove("-is-revealed"))},o=document.querySelector(e),r=document.querySelector("#stt");window.addEventListener("scroll",(function(e){return n(window)})),o.addEventListener("scroll",(function(e){return n(o)})),r.addEventListener("click",(function(e){document.scrollingElement.scrollTo(0,0),o.scrollTo(0,0)}))}("#newsfeed-wrap");
//# sourceMappingURL=index.fa4db6c7.js.map
